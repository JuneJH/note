# 🎯 CSS 选择器详解

> **选择器（Selector）**：用于指定 CSS 规则应用到哪些 HTML 元素上。
>  它是连接 HTML 与 CSS 的“桥梁”。

------

## 🧩 一、简单选择器（Basic Selectors）

### 1️⃣ ID 选择器

```
#title {
  color: red;
}
```

- 使用 `#` 开头；
- 在 HTML 中通过 `id="title"` 绑定；
- **在同一页面中应唯一。**

------

### 2️⃣ 元素选择器（Element Selector）

```
p {
  font-size: 16px;
}
```

- 直接以标签名选中页面中所有对应元素；
- 适用于全局样式。

------

### 3️⃣ 类选择器（Class Selector）

```
.box {
  border: 1px solid #ccc;
}
```

- 使用 `.` 开头；

- 可复用性强，可作用于多个元素；

- 支持多类叠加，如：

  ```
  <div class="box active"></div>
  ```

------

### 4️⃣ 通配符选择器（Universal Selector）

```
* {
  margin: 0;
  padding: 0;
}
```

- 选中所有元素；
- 常用于 **CSS Reset**；
- **性能较低**，不建议在复杂页面中滥用。

------

### 5️⃣ 属性选择器（Attribute Selector）

```
input[type="text"] {
  border: 1px solid #ccc;
}
```

| 语法            | 含义                 |
| --------------- | -------------------- |
| `[attr]`        | 选择含有该属性的元素 |
| `[attr=value]`  | 属性值等于指定值     |
| `[attr^=value]` | 属性值以 value 开头  |
| `[attr$=value]` | 属性值以 value 结尾  |
| `[attr*=value]` | 属性值包含 value     |

------

### 6️⃣ 伪类选择器（Pseudo-classes）

> 伪类用于**选择元素的特定状态**，如鼠标悬停、已访问等。

常见伪类：

| 伪类       | 含义                 |
| ---------- | -------------------- |
| `:link`    | 超链接未访问状态     |
| `:visited` | 超链接访问后状态     |
| `:hover`   | 鼠标悬停状态         |
| `:active`  | 鼠标按下（激活）状态 |

🧠 **书写顺序必须遵循 LVHA 原则：**

```
a:link {}
a:visited {}
a:hover {}
a:active {}
```

> 顺序口诀：**“LoVe HAte”**
>  否则 hover、active 可能失效。

------

### 7️⃣ 伪元素选择器（Pseudo-elements）

> 用于**创建或选中元素的一部分内容**。
>  语法：`::伪元素名`

常见伪元素：

| 伪元素     | 功能                   |
| ---------- | ---------------------- |
| `::before` | 在元素内容之前生成内容 |
| `::after`  | 在元素内容之后生成内容 |

示例：

```
p::before {
  content: "👉";
}
p::after {
  content: "👈";
}
```

> 伪元素在视觉上生成新内容，但不影响 DOM 结构。

------

## 🔗 二、选择器的组合（Combinators）

> 用于指定元素间的层级与关系。

| 组合符                  | 含义                       | 示例         |
| ----------------------- | -------------------------- | ------------ |
| **空格（后代选择器）**  | 选择某元素内的所有匹配后代 | `div p {}`   |
| **>（子元素选择器）**   | 仅选择直接子元素           | `ul > li {}` |
| **+（相邻兄弟选择器）** | 选择紧挨着的兄弟元素       | `h2 + p {}`  |
| **~（通用兄弟选择器）** | 选择后续所有兄弟元素       | `h2 ~ p {}`  |

------

## 🧩 三、选择器的并列（Group Selector）

> 当多个选择器应用相同样式时，可用逗号分隔。

```
h1, h2, h3 {
  color: #333;
}
```

等价于：

```
h1 { color: #333; }
h2 { color: #333; }
h3 { color: #333; }
```

------

## 🪜 四、层叠与权重（Cascade & Specificity）

> 当多个选择器作用于同一元素时，浏览器通过 **层叠规则（Cascade）** 来决定最终样式。

------

### 1️⃣ 层叠的三个维度

**重要性（Importance） > 特殊性（Specificity） > 源次序（Order）**

------

### 2️⃣ 比较重要性

权重从高到低：

1. 作者样式表中 `!important` 声明
2. 作者普通样式
3. 浏览器默认样式

示例：

```
p {
  color: blue !important; /* 优先级最高 */
}
```

------

### 3️⃣ 比较特殊性（Specificity）

> **选择器越具体，优先级越高。**

计算规则（四位数形式：`a,b,c,d`）：

| 位   | 含义                       | 示例                              |
| ---- | -------------------------- | --------------------------------- |
| a    | 内联样式                   | `<div style="color:red;">`        |
| b    | ID 选择器数量              | `#app`                            |
| c    | 类 / 属性 / 伪类选择器数量 | `.box`, `[type="text"]`, `:hover` |
| d    | 元素 / 伪元素选择器数量    | `div`, `::after`                  |

> 计算示例：
>  选择器 `.nav li.active a:hover` → **(0,0,3,2)**
>  选择器 `#header .nav` → **(0,1,1,0)**
>  第二个权重更高。

------

### 4️⃣ 比较源次序（Source Order）

> 当选择器权重相同，**代码靠后的优先。**

```
p { color: red; }
p { color: blue; } /* 生效 */
```

------

## 🧠 五、更多伪类与伪元素选择器

### 🔹 更多伪类选择器

| 伪类              | 含义                  | 示例                 |
| ----------------- | --------------------- | -------------------- |
| `:first-child`    | 第一个子元素          | `li:first-child`     |
| `:last-child`     | 最后一个子元素        | `li:last-child`      |
| `:nth-child(n)`   | 第 n 个子元素         | `li:nth-child(2n)`   |
| `:nth-of-type(n)` | 第 n 个特定类型子元素 | `p:nth-of-type(odd)` |

常用参数：

- `even` → 偶数（等价于 `2n`）
- `odd` → 奇数（等价于 `2n+1`）

------

### 🔹 更多伪元素选择器

| 伪元素           | 功能                 |
| ---------------- | -------------------- |
| `::first-letter` | 选中文本的首字母     |
| `::first-line`   | 选中文本的第一行     |
| `::selection`    | 用户框选文字时的样式 |

示例：

```
p::selection {
  background-color: yellow;
}
```

------

## 🧭 六、总结

| 概念           | 说明                     |
| -------------- | ------------------------ |
| **选择器**     | 定义 CSS 规则的作用目标  |
| **组合选择器** | 表示元素间的层级关系     |
| **伪类**       | 表示元素的状态           |
| **伪元素**     | 表示元素的一部分         |
| **层叠**       | 浏览器解决样式冲突的机制 |
| **权重**       | 决定冲突样式的优先级     |

------

> ✨ **Tips：**
>
> - 避免滥用 `!important`；
> - 尽量使用语义化、结构清晰的选择器；
> - 控制层级深度（建议 ≤ 3 层）；
> - 掌握伪类与伪元素的区别：
>   - 伪类表示“状态”；
>   - 伪元素表示“结构的一部分”。

------

> 🧱 **未完待续...**
>  下一节建议学习：**复合选择器、结构伪类、CSS 权重进阶与继承机制**。